

# ä¸€æ—¥ä¸€æŠ€ | WSA å®šåˆ¶å®‰è£…ï¼Œæ‰¾å›ä½ éœ€è¦çš„ Google æœåŠ¡å’Œ Magisk - å°‘æ•°æ´¾

æ—©å‰çš„ WSA æ–°ç‰ˆä½“éªŒæ›¾ä»‹ç»è¿‡ä¸€ä¸ªåä¸º [MagiskOnWSA](https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FLSPosed%2FMagiskOnWSA%2Factions) çš„ GitHub é¡¹ç›®ï¼Œå€ŸåŠ© GitHub Actionsï¼Œè¿™ä¸ªé¡¹ç›®å¯ä»¥äº‘ç«¯æ‰“åŒ…ä¸€ä»½åŒ…å« Magisk å’Œ GApps çš„ WSA å®‰è£…åŒ…ï¼Œç”¨èµ·æ¥éå¸¸æ–¹ä¾¿çœäº‹ã€‚

**å…³è”é˜…è¯»ï¼š**[ä¸ºå¤§å±ä½“éªŒä¼˜åŒ–çš„ Android ä¸ Windows ç¢°æ’ï¼šWSA æ–°ç‰ˆå‡çº§ä¸ä½“éªŒ](https://sspai.com/post/73422)

æœ¬æœˆæ—©äº›æ—¶å€™ï¼Œè¿™ä¸ªé¡¹ç›®å› è¿å GitHub Actions æœåŠ¡æ¡æ¬¾è€Œè¢«å°ç¦ã€‚æ‰€å¹¸å¼€å‘è€…å¾ˆå¿«ä¸Šçº¿äº†è„±ç¦» GitHub Actions ä¾èµ–çš„æœ¬åœ°ç‰ˆæœ¬ [MagiskOnWSALocal](https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FLSPosed%2FMagiskOnWSALocal)ï¼ˆä»¥ä¸‹ç®€ç§° MoWLï¼‰ã€‚å€ŸåŠ©è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥æ‰‹åŠ¨é…ç½®ä¸€ä»½å†…ç½® Google æœåŠ¡å’Œ Magisk æ¡†æ¶çš„ WSA å®‰è£…åŒ…ã€‚

å› ä¸ºå®‰è£…æ‰“åŒ…è„šæœ¬ä¸»è¦è½¬ä¸ºæœ¬åœ°è¿è¡Œï¼ŒMoWL çš„é…ç½®å’Œä½¿ç”¨æµç¨‹ç›¸æ¯”æ­¤å‰æ›´åŠ å¤æ‚ã€‚å¦‚æœä½ ä»æœ‰ç±»ä¼¼éœ€æ±‚ï¼Œå¸Œæœ›æœ¬æ–‡èƒ½ä¸ºä½ æä¾›ä¸€äº›å‚è€ƒã€‚

MoWL çš„ä¸»è¦æ‰“åŒ…æµç¨‹ä» GitHub Actions è¿ç§»åˆ°äº†æœ¬åœ°ï¼Œå› æ­¤åœ¨ Windows 11 ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦é…ç½®ä¸€å¥—èƒ½å¤Ÿåœ¨æœ¬åœ°è¿è¡Œçš„ Linux ç¯å¢ƒã€‚

è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°çš„æ˜¯å¾®è½¯å®˜æ–¹æ¨å‡ºçš„é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆä»¥ä¸‹ç®€ç§° WSLï¼‰ã€‚ä»¥ MoWL æ‰€æ¨èçš„ Ubuntu ä¸ºä¾‹ï¼Œåœ¨æœ€æ–°ç‰ˆ Windows 11 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥è¿›è¡Œå®‰è£…ã€‚

**é¦–å…ˆï¼Œç¡®ä¿ç³»ç»Ÿå·²å¼€å¯è™šæ‹ŸåŒ–å’Œ WSL ç›¸å…³åŠŸèƒ½**ï¼š

1.  åœ¨ BIOS ä¸­å¼€å¯è™šæ‹ŸåŒ–æ”¯æŒ
2.  åœ¨å¼€å§‹èœå•ä¸­æœç´¢å¹¶è¿è¡Œã€Œå¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½ã€
3.  æ‰¾åˆ°å¹¶å¼€å¯ Hyper-V å’Œã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€é€‰é¡¹

é‡å¯è®¾å¤‡åï¼Œè®¡ç®—æœºä¾¿å‡†å¤‡å°±ç»ªäº†ã€‚

![boxcnQRuVMPtzY13SWrisAOW1Tg](assets/1698898019-f82eefaa66f936163c809a7effcd0190.png)

![boxcnPRZCWKQdGvQ1YfPXrTUCYb](assets/1698898019-a2a18da094a90cb5ba10c01aec31837e.png)

å¯ç”¨ Hyper-V ä¸ WSL

éšåæˆ‘ä»¬æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆ`Win+R` è¾“å…¥ cmd å¹¶å›è½¦ï¼‰ï¼Œè¾“å…¥å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Ubuntu å­ç³»ç»Ÿï¼š

`wsl --install -d Ubuntu`

ä¸‹è½½ã€å®‰è£…å®Œæˆåè®¾ç½®å¥½å­ç³»ç»Ÿçš„ç”¨æˆ·åå’Œå¯†ç ï¼ŒUbuntu ä¾¿é…ç½®å®Œæˆäº†ã€‚

![boxcneacbKD5IFIWZ1kbOAEjFTc](assets/1698898019-83641936544da44e50f2d4d0348c0c38.png)

é…ç½®å¥½è™šæ‹ŸåŒ–å’Œ WSL åŠŸèƒ½åä½ ä¹Ÿå¯ä»¥ç›´æ¥ä» Microsoft Store è¿›è¡Œå®‰è£…

P.S. å…³äº WSL å­ç³»ç»Ÿï¼Œä¸åŒè®¾å¤‡ã€ä¸åŒ Windows ç‰ˆæœ¬å¯èƒ½ä¼šé­é‡ä¸åŒçš„å®‰è£…é—®é¢˜ï¼Œä½†å¤§éƒ¨åˆ†é—®é¢˜éƒ½å¯ä»¥å‚è€ƒå¾®è½¯å®˜æ–¹çš„é…ç½®æ–‡æ¡£è¿›è¡Œæ’æŸ¥ï¼š

-   [å®‰è£… WSL](https://sspai.com/link?target=https%3A%2F%2Fdocs.microsoft.com%2Fzh-cn%2Fwindows%2Fwsl%2Finstall)
-   [æ—§ç‰ˆ WSL çš„æ‰‹åŠ¨å®‰è£…æ­¥éª¤](https://sspai.com/link?target=https%3A%2F%2Fdocs.microsoft.com%2Fzh-cn%2Fwindows%2Fwsl%2Finstall-manual)
-   [æ’æŸ¥é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿé—®é¢˜](https://sspai.com/link?target=https%3A%2F%2Fdocs.microsoft.com%2Fzh-cn%2Fwindows%2Fwsl%2Ftroubleshooting)

**æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ Ubuntu ä¸­è¿›è¡Œ WSA å®‰è£…åŒ…ç¼–è¯‘**ã€‚ä¾æ¬¡æ‰§è¡Œï¼š

1.  `git clone https://github.com/LSPosed/MagiskOnWSALocal` å°† MoWL é¡¹ç›®å…‹éš†è‡³æœ¬åœ°
2.  `cd MagiskOnWSALocal` è·³è½¬è‡³æœ¬åœ° MoWL ç›®å½•
3.  `scripts/run.sh` æ‰§è¡Œå®‰è£…åŒ…å®šåˆ¶è„šæœ¬

åœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­ï¼ŒMoWL è´´å¿ƒåœ°æä¾›äº†è§†è§‰åŒ–çš„äº¤äº’é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å®é™…æƒ…å†µï¼Œé€šè¿‡æ–¹å‘é”®é€‰æ‹©éœ€è¦çš„ WSA ç‰ˆæœ¬ï¼ˆx64/arm64ï¼‰ã€GApps ç‰ˆæœ¬ã€Magisk ç‰ˆæœ¬å¹¶å»é™¤å‡ ä¹æ²¡ç”¨çš„äºšé©¬é€Šåº”ç”¨å•†åº—ã€‚

![boxcndUMuP1i1wUSiYrKDPFcpPb](assets/1698898019-803f6e83aafedf02c57fd3f5f432a0e0.png)

![boxcnuODngRyA99YBrZxBIJQdCg](assets/1698898019-e8a565a89cc73cadc0915a13a217326a.png)

é€‰æ‹©æ¶æ„ä¸ GApps

![boxcnBI1yaMd6wj6Bu2GIBBPtze](assets/1698898019-f9ab32744370adf4681d07347dd13ce7.png)

![boxcnzjnWsUGOdZnBV1Fektgpme](assets/1698898019-1f518722cb23dbfce8ac0c517f55edae.png)

é€‰æ‹© Magisk ç‰ˆæœ¬ä¸äºšé©¬é€Šå•†åº—ç²¾ç®€

å¦å¤–ï¼Œå¦‚æœä½ éœ€è¦å¸®æœ‹å‹ç”Ÿæˆä¸€ä»½å®šåˆ¶å®‰è£…åŒ…ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è‡ªåŠ¨å¯¹è¾“å‡ºæ–‡ä»¶è¿›è¡Œå‹ç¼©æ‰“åŒ…ã€‚

è„šæœ¬è¿è¡Œå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ Ubuntu ä¸­æ‰§è¡Œ `explorer.exe .` æ¥è°ƒç”¨ Windows èµ„æºç®¡ç†å™¨è¿›è¡Œæµè§ˆï¼Œç„¶åæ‰¾åˆ° MagiskOnWSA\\output ç›®å½•ä¸­çš„å®‰è£…åŒ…ç›®å½•æˆ–å‹ç¼©åŒ…ï¼Œå°†å…¶ç§»åŠ¨è‡³å…¶ä»–ä½ç½®å³å¯ã€‚

![boxcn7eKWWtmKCzNgC79BYkJ7hM](assets/1698898019-6d7cd8783d2dec8b202e5b7fa75c9931.png)

å¾—åˆ°äº†ä¸€ä»½å®‰è£…åŒ…

è‡³æ­¤ï¼Œæˆ‘ä»¬ä¾¿å¾—åˆ°äº†æ­¤å‰éœ€è¦é€šè¿‡ GitHub Actions è‡ªåŠ¨ç¼–è¯‘å¾—æ¥çš„å®‰è£…åŒ…ã€‚æœ‰äº†å®‰è£…åŒ…ï¼Œåç»­çš„ WSA å®‰è£…æµç¨‹å°±è·Ÿæ­¤å‰æ˜¯ä¸€æ ·çš„äº†ï¼šåœ¨ WSA ç›®å½•ä¸­æ‰¾åˆ° Install.ps1ï¼Œç„¶åé€šè¿‡ PowerShell ç®¡ç†å‘˜æ¨¡å¼æ‰§è¡Œ

`PowerShell.exe -ExecutionPolicy Bypass -File .\Install.ps1`

å³å¯å®Œæˆå®‰è£…ã€‚å®‰è£…å Play å•†åº—å’Œ Magisk å°†ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

![boxcn4wPYu6QELnFQInLwsiBWah](assets/1698898019-43143528ee3bf57a99648be169bb290d.png)

è¿›è¡Œå®‰è£…

æœ€åæä¸€ç‚¹æ¥è‡ª MoWL é¡¹ç›®å¼€å‘è€…çš„å° tipsï¼šå¦‚æœä½ æƒ³å¯¹ WSA å’Œ Magisk è¿›è¡Œæ›´æ–°ï¼Œåˆ é™¤ MagiskOnWSALocal\\download ç›®å½•ç„¶åé‡æ–°è¿è¡Œ run.sh è„šæœ¬å³å¯è·å–æ–°ç‰ˆæœ¬ï¼Œæœ€ååªéœ€å°†æ–°ç‰ˆæœ¬å®‰è£…åŒ…è¦†ç›–åˆ°ç°æœ‰ WSA ç›®å½•å¹¶é‡æ–°æ‰§è¡Œ Install.ps1 å³å¯ä¿ç•™æ•°æ®è¿›è¡Œå‡çº§ã€‚

å¦‚æœä½ åœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è¿›è¡Œè®¨è®ºã€‚å¦‚æœä½ é¡ºåˆ©é…ç½®å¥½äº†ç¯å¢ƒå’Œè„šæœ¬ï¼Œæ„¿æ„ä¸ºå…¶ä»–ä¸æ„¿åŠ¨æ‰‹çš„ç½‘å‹æ‰“åŒ…ã€ä¸Šä¼ å®šåˆ¶å®‰è£…åŒ…ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºè¿›è¡Œåˆ†äº«ã€‚

**å…³è”é˜…è¯»ï¼š**

-   [ä¸ç”¨è£…åŒç³»ç»Ÿï¼Œç›´æ¥åœ¨ Windows ä¸Šä½“éªŒ Linuxï¼šWindows Subsystem for Linux](https://sspai.com/post/43813)
-   [ä¸º WSL é…ç½®è¿™äº›æ–°åŠŸèƒ½ï¼Œä¸ç”¨è™šæ‹Ÿæœºä¹Ÿèƒ½ä½“éªŒå®Œæ•´ Linux](https://sspai.com/post/74167)

\> æš‘æœŸå¾æ–‡ [æ•°å­—æ–‡å…·ç›’](https://sspai.com/post/74751) ç«çƒ­å¾ç¨¿ä¸­ï¼Œåˆ†äº«å­¦ä¹ æ–¹æ³•ï¼Œæ‹¿èµ°ç°é‡‘å¥–åŠ± ğŸ“

\> æƒ³ç”³è¯·æˆä¸ºå°‘æ•°æ´¾ä½œè€…ï¼Ÿ[å†²](https://sspai.com/apply/writing)ï¼ ğŸš€
